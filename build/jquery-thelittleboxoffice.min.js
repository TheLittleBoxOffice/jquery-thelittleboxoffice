/*! jquery-thelittleboxoffice 2014-09-15 */
!function(a){a.fn.thelittleboxoffice={},a.extend(a.fn.thelittleboxoffice,{default_options:{query:"",template:"default",target:null,theme:"billboard"},build:function(b){b=a.extend(this.default_options,b);var c=a.fn.thelittleboxoffice.query(b.query),d=a.fn.thelittleboxoffice.getThemeFunctionName(b.theme);a(b.target).html(a.fn.thelittleboxoffice[d](c))},getThemeFunctionName:function(a){return"theme"+this.capitaliseFirstLetter(a)+"Encode"},capitaliseFirstLetter:function(a){return a.charAt(0).toUpperCase()+a.slice(1)}})}(jQuery),function(a){a.extend(a.fn.thelittleboxoffice,{query:function(a){for(var b=this.cloneDataSet(),c=this.decodeCommands(a),d=0;d<c.length;d++)this.processCommand(c[d],b);return this.getFiltered(b,c)},cloneDataSet:function(){output=[];for(var a=0;a<lbo_events.length;a++)output.push(lbo_events[a]);return output},hasFilter:function(b){for(var c=!1,d=0;d<b.length;d++)a.inArray(b[d].name,["category_id","event_id"])&&(c=!0);return c},decodeCommands:function(a){for(var b=[],c=a.split(";"),d=null,e=null,f=0;f<c.length;f++)e=c[f].match(/([^A-Z_])/i),null!=e&&(d=e.index,b.push({name:c[f].substring(0,d),operand:c[f].substring(d,d+1),params:c[f].substring(d+1,c[f].length).split(",")}));return b.sort(function(a){var b=9999;switch(a.name){case"cat":b=0}return b}),0==this.hasFilter(b)&&b.push({name:"all",operand:"",params:""}),b},translateFieldName:function(a){switch(a){case"event_id":return"id";default:return a}},processCommand:function(a,b){switch(a.name){case"all":b=this.processCommandAll(b);break;case"category_id":b=this.processCommandCategoryId(a.operand,a.params,b);break;case"event_id":b=this.processCommandEventId(a.operand,a.params,b);break;case"sort":b=this.processCommandSort(a.operand,a.params,b)}},processCommandAll:function(a){for(var b=0;b<a.length;b++)a[b].filter_all=!0},processCommandEventId:function(a,b,c){this.applyFilter(this.translateFieldName("event_id"),a,this.decodeParams(a,b),c)},processCommandCategoryId:function(){},processCommandSort:function(){console.log("Not Implemented")},applyFilter:function(a,b,c,d){for(var e=!1,f=0;f<d.length;f++){e=!1,d[f]["filter_"+a]=!1;for(var g=0;g<c.length;g++)String(d[f][a])==String(c[g].value)&&(e=!0);e&&(d[f]["filter_"+a]=!0)}},applyCategoryIdFilter:function(a,b,c){for(var d=[],e=!1,f=0;f<c.length;f++){e=!1;for(var g=0;g<c[f].categories.length;g++)c[f].categories[g]==b.value&&(e=!0);"="==a?e&&d.push(c[f]):e||d.push(c[f])}return d},getFiltered:function(a,b){for(var c=[],d=0;d<a.length;d++)for(var e=0;e<b.length;e++)1==a[d]["filter_"+this.translateFieldName(b[e].name)]&&c.push(a[d]);return c},decodeParams:function(a,b){for(var c=[],d=0;d<b.length;d++)c.push({value:b[d].replace(/\"/g,"").replace("!","")});return c}})}(jQuery),function(a){a.extend(a.fn.thelittleboxoffice,{template:function(a,b){return this.bakeTemplate(this.getTemplate(b),a)},getTemplate:function(a){return templates["src/templates/"+a+".html"]},bakeTemplate:function(a,b){return a(b)}})}(jQuery),function(a){a.extend(a.fn.thelittleboxoffice,{themeBillboardEncode:function(b){for(var c="",d=0;d<b.length;d++)console.log(b[d]),c+=a.fn.thelittleboxoffice.template(b[d],"billboard/billboard_item");return c}})}(jQuery),this.templates=this.templates||{},this.templates["src/templates/billboard/billboard_item.html"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='\n	<div class="lbo-billboard-item">\n		<div class="lbo-crop">\n			<img src="',(g=c.image_large)?f=g.call(b,{hash:{},data:e}):(g=b&&b.image_large,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt="',(g=c.title)?f=g.call(b,{hash:{},data:e}):(g=b&&b.title,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'"/>\n		</div>\n		<a href="',(g=c.link_view)?f=g.call(b,{hash:{},data:e}):(g=b&&b.link_view,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" class="lbo-title">',(g=c.title)?f=g.call(b,{hash:{},data:e}):(g=b&&b.title,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"</a>\n	</div>\n"});