/*! jquery-thelittleboxoffice 2014-10-07 */
!function(a){a.fn.thelittleboxoffice={},a.extend(a.fn.thelittleboxoffice,{default_options:{query:"",template:"default",target:null,theme:"billboard"},build:function(b){b=a.extend(this.default_options,b);var c=a.fn.thelittleboxoffice.query(b.query,b.debug),d=a.fn.thelittleboxoffice.getThemeFunctionName(b.theme);a(b.target).html(a.fn.thelittleboxoffice[d](c))},listCategories:function(b){a(b.target).html(a.fn.thelittleboxoffice.template({categories:lbo_categories},"misc/category_list"))},getThemeFunctionName:function(a){return"theme"+this.capitaliseFirstLetter(a)+"Encode"},capitaliseFirstLetter:function(a){return a.charAt(0).toUpperCase()+a.slice(1)}})}(jQuery);var lbo_previous=[];!function(a){a.extend(a.fn.thelittleboxoffice,{query:function(a){for(var b=this.cloneDataSet(),c=this.decodeCommands(a),d=0;d<c.length;d++)b=this.processCommand(c[d],b);return this.addToPrevious(b),b},cloneDataSet:function(){output=[];for(var a=0;a<lbo_events.length;a++)output.push(lbo_events[a]);return output},addToPrevious:function(a){for(var b=0;b<a.length;b++)lbo_previous.push(a[b])},hasFilter:function(b){for(var c=!1,d=0;d<b.length;d++)a.inArray(b[d].name,["category_id","event_id"])&&(c=!0);return c},decodeCommands:function(a){for(var b=[],c=a.split(";"),d=null,e=null,f=0;f<c.length;f++)e=c[f].match(/([^A-Z_])/i),null!=e&&(d=e.index,b.push({name:c[f].substring(0,d),operand:c[f].substring(d,d+1),params:c[f].substring(d+1,c[f].length).split(",")}));return b.sort(function(a){var b=9999;switch(a.name){case"original":b=0;case"category_id":b=1;break;case"event_id":b=2;break;case"search":b=3;break;case"sort":b=98;break;case"limit":b=99}return b}),0==this.hasFilter(b)&&b.push({name:"all",operand:"",params:""}),b},translateFieldName:function(a){switch(a){case"event_id":return"id";default:return a}},processCommand:function(a,b){switch(console.log(a.name),a.name){case"all":b=this.processCommandAll(b);break;case"original":b=this.processCommandOriginal(b);break;case"category_id":b=this.processCommandCategoryId(a.operand,a.params,b);break;case"event_id":b=this.processCommandEventId(a.operand,a.params,b);break;case"sort":b=this.processCommandSort(a.operand,a.params,b);break;case"limit":b=this.processCommandLimit(a.operand,a.params,b)}return b},processCommandLimit:function(a,b,c){for(var d=parseInt(b.pop()),e=[],f=0;f<c.length;f++)d>f&&e.push(c[f]);return e},processCommandAll:function(a){return a},processCommandEventId:function(a,b,c){this.applyFilter(this.translateFieldName("event_id"),a,this.decodeParams(a,b),c)},processCommandOriginal:function(a){return this.applyOriginalFilter(a)},processCommandCategoryId:function(a,b,c){return this.applyCategoryIdFilter(a,this.decodeParams(a,b),c)},processCommandSort:function(){},applyFilter:function(a,b,c,d){for(var e=!1,f=0;f<d.length;f++){e=!1,d[f]["filter_"+a]=!1;for(var g=0;g<c.length;g++)String(d[f][a])==String(c[g].value)&&(e=!0);e&&(d[f]["filter_"+a]=!0)}},applyCategoryIdFilter:function(a,b,c){for(var d=[],e=!1,f=0;f<c.length;f++)for(var g=0;g<c[f].categories.length;g++){e=!1;for(var h=0;h<b.length;h++)c[f].categories[g]==b[h].value&&(e=!0);e&&d.push(c[f])}return d},applyOriginalFilter:function(a){for(var b=[],c=!1,d=0;d<a.length;d++){c=!1;for(var e=0;e<lbo_previous.length;e++)a[d].id==lbo_previous[e].id&&(c=!0);0==c&&b.push(a[d])}return b},decodeParams:function(a,b){for(var c=[],d=0;d<b.length;d++)c.push({value:b[d].replace(/\"/g,"").replace("!","")});return c}})}(jQuery),function(a){a.extend(a.fn.thelittleboxoffice,{template:function(a,b){return this.bakeTemplate(this.getTemplate(b),a)},getTemplate:function(a){return templates["src/templates/"+a+".html"]},bakeTemplate:function(a,b){return a(b)}})}(jQuery),function(a){a.extend(a.fn.thelittleboxoffice,{themeBillboardEncode:function(b){for(var c="",d=0;d<b.length;d++)c+=a.fn.thelittleboxoffice.template(b[d],"billboard/billboard_item");return c},themeBillboardSmallEncode:function(b){for(var c="",d=0;d<b.length;d++)c+=a.fn.thelittleboxoffice.template(b[d],"billboard/billboard_small_item");return c}})}(jQuery),function(a){a.extend(a.fn.thelittleboxoffice,{themeListEncode:function(b){for(var c="",d=0;d<b.length;d++)c+=a.fn.thelittleboxoffice.template(b[d],"list/list_item");return c}})}(jQuery),this.templates=this.templates||{},this.templates["src/templates/billboard/billboard_item.html"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='\n	<div class="lbo-billboard-item">\n		<div class="lbo-crop">\n			<img src="',(g=c.image_large)?f=g.call(b,{hash:{},data:e}):(g=b&&b.image_large,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt="',(g=c.title)?f=g.call(b,{hash:{},data:e}):(g=b&&b.title,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'"/>\n		</div>\n		<a href="',(g=c.link_view)?f=g.call(b,{hash:{},data:e}):(g=b&&b.link_view,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" class="lbo-title">',(g=c.title)?f=g.call(b,{hash:{},data:e}):(g=b&&b.title,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"</a>\n	</div>\n"}),this.templates["src/templates/list/list_item.html"]=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='\n	<div class="lbo-list-item">\n		<div class="lbo-crop">\n			<img src="',(g=c.image_small)?f=g.call(b,{hash:{},data:e}):(g=b&&b.image_small,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" alt="',(g=c.title)?f=g.call(b,{hash:{},data:e}):(g=b&&b.title,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'"/>\n		</div>\n		<a href="',(g=c.link_view)?f=g.call(b,{hash:{},data:e}):(g=b&&b.link_view,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" class="lbo-title">',(g=c.title)?f=g.call(b,{hash:{},data:e}):(g=b&&b.title,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+"</a>\n	</div>\n"}),this.templates["src/templates/misc/category_list.html"]=Handlebars.template(function(a,b,c,d,e){function f(a){var b,c="";return c+="\n    <li>"+j((b=a&&a.id,typeof b===i?b.apply(a):b))+" &#58; "+j((b=a&&a.title,typeof b===i?b.apply(a):b))+"</li>\n"}this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var g,h="",i="function",j=this.escapeExpression,k=this;return h+="<ul>\n",g=c.each.call(b,b&&b.categories,{hash:{},inverse:k.noop,fn:k.program(1,f,e),data:e}),(g||0===g)&&(h+=g),h+="\n</ul>"});